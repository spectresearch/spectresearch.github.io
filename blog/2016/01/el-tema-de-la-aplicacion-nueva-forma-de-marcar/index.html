
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>El tema de la aplicación "Nueva Forma de Marcar".</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="/favicon.ico">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/prism.css?v=5e18aacb12">
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=5e18aacb12">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="SPECT Research">
    <meta property="og:type" content="article">
    <meta property="og:title" content='El tema de la aplicación "Nueva Forma de Marcar".'>
    <meta property="og:description" content='Este post busca aclarar la serie de versiones dadas tanto en Twitter como en los medios sobre el alcance de la aplicación "Nueva Forma de Marcar" lanzada por la Subsecretaria de Comunicaciones de Chile hace algunos días.  El día Lunes...'>
    <meta property="og:url" content="http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/">
    <meta property="article:published_time" content="2016-01-27T04:26:10.867Z">
    <meta property="article:modified_time" content="2016-01-27T14:03:21.408Z">
    <meta property="article:tag" content="chile">
    <meta property="article:tag" content="security">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content='El tema de la aplicación "Nueva Forma de Marcar".'>
    <meta name="twitter:description" content='Este post busca aclarar la serie de versiones dadas tanto en Twitter como en los medios sobre el alcance de la aplicación "Nueva Forma de Marcar" lanzada por la Subsecretaria de Comunicaciones de Chile hace algunos días.  El día Lunes...'>
    <meta name="twitter:url" content="http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "SPECT Research",
    "author": {
        "@type": "Person",
        "name": "Claudio Salazar",
        "image": "//www.gravatar.com/avatar/134e22ab3b4cac1e783f88f84917bc12?s=250&d=mm&r=x",
        "url": "http://www.spect.cl/author/claudio",
        "sameAs": null,
        "description": null
    },
    "headline": "El tema de la aplicación &quot;Nueva Forma de Marcar&quot;.",
    "url": "http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/",
    "datePublished": "2016-01-27T04:26:10.867Z",
    "dateModified": "2016-01-27T14:03:21.408Z",
    "keywords": "chile, security",
    "description": "Este post busca aclarar la serie de versiones dadas tanto en Twitter como en los medios sobre el alcance de la aplicación &quot;Nueva Forma de Marcar&quot; lanzada por la Subsecretaria de Comunicaciones de Chile hace algunos días.  El día Lunes..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="SPECT Research" href="http://www.spect.cl/rss/">
    <script>
var disqus_shortname = 'spectresearch';
var ga_id = 'UA-18043187-1';
</script>
</head>

<body><header class="main-header no-cover">
    <div class="vertical">
        <div class="main-header-content inner">
            <h1 class="page-title">SPECT Research</h1>
            <h2 class="page-description">Security and Software Development</h2>
            <br>
            <div>
              <a class="spectnav" href="/"><i class="fa fa-home"></i> Home</a>
              <a class="spectnav" href="/about/"><i class="fa fa-group"></i> About us</a>
              <a class="spectnav" href="/projects/"><i class="fa fa-copy"></i> Projects</a>
              <a class="spectnav" href="/education/"><i class="fa fa-book"></i> Education</a>
            </div>
            <div>
              <a class="spectnav" href="http://github.com/spectresearch"><i class="spectnav fa fa-github"></i></a>
              <a class="spectnav" href="http://twitter.com/spectresearch"><i class="spectnav fa fa-twitter"></i></a>
            </div>
        </div>
    </div>
    <a class="scroll-down icon-arrow-left" href="#content" data-offset="-45"><span class="hidden">Scroll Down</span></a>
</header>



    

    <div class="site-wrapper">

        


<main class="content" role="main">
    <article class="post tag-chile tag-security">

        <header class="post-header">
            <h1 class="post-title">El tema de la aplicación "Nueva Forma de Marcar".</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-01-27">27 January 2016</time>  on <a href="/tag/chile/">chile</a>, <a href="/tag/security/">security</a>
            </section>
        </header>

        <section class="post-content">
            <p>Este post busca aclarar la serie de versiones dadas tanto en Twitter como en los medios sobre el alcance de la aplicación <a href="http://nuevaformademarcar.cl/ministro-gomez-lobo-presenta-aplicacion-gratuita-que-actualiza-agenda-telefonica/">"Nueva Forma de Marcar"</a> lanzada por la Subsecretaria de Comunicaciones de Chile hace algunos días. </p>

<p>El día Lunes 25 de enero procedí a analizar la aplicación para ver su funcionamiento interno. Si bien es conocido su cometido, me llamo la atención una serie de estadísticas que enviaba.</p>

<pre><code class="language- language-javascript">function envioEstadisticas(){

    // seteamos mis totales para enviarlos
    $scope.estadisticas.contactosTotal = $scope.contadores.contactos_totales;
    $scope.estadisticas.numerosTotal = $scope.contadores.tlf_totales;
    $scope.estadisticas.contactosConvertidos = $scope.contadores.contactos;
    $scope.estadisticas.numerosConvertidos = $scope.contadores.tlf;
    if($localstorage.get("lat") != "" &amp;&amp; $localstorage.get("lng") != ""){
        $scope.estadisticas.lat = parseFloat($localstorage.get("lat"));
        $scope.estadisticas.lng = parseFloat($localstorage.get("lng"));
    }

    // definimos la duracion en el tienmpo de las estadisticas
    $scope.estadisticas.tiempo = duracion_transformacion;

    // obtenemos el dispositivo UUID
    $scope.estadisticas.deviceUUID = $cordovaDevice.getUUID();

    var data = $scope.estadisticas;
    // preparamos mi post con los datos
    var post = new Estadisticas(data);
    console.log("envio estadisticas");
    post.$save(null, function(response){

        console.log("estadisticas enviadas");
    });
}
</code></pre>

<p>En resumen, las estadísticas que envía son:</p>

<ul>
<li>Número de contactos totales.</li>
<li>Número de números de teléfono totales.</li>
<li>Número de contactos convertidos.</li>
<li>Número de números de teléfono convertidos.</li>
<li><strong>Ubicación del dispositivo móvil</strong>.</li>
<li><strong>UUID del dispositivo móvil</strong>.</li>
</ul>

<p>Los dos últimos datos han sido los que han generado la controversia, tal como lo publiqué en un <a href="https://twitter.com/spectresearch/status/691703962853117956">tweet</a> el pasado Lunes.</p>

<h2 id="aclaracindelasversiones">Aclaración de las versiones</h2>

<p>Haciendo referencia a este <a href="http://www.emol.com/noticias/Tecnologia/2016/01/26/785375/Aclaran-el-polemico-manejo-de-datos-de-la-aplicacion-de-la-Subtel-por-cambio-de-numeracion.html">artículo de emol.com</a>, podemos verificar párrafo a párrafo lo que indica.</p>

<blockquote>
  <p>Los Términos y Condiciones de la aplicación indican que la Subtel "retendrá para sí y está facultado para utilizar libremente la información estadística del uso de la aplicación", incluyendo "la cantidad de veces que se abre, la cantidad de contactos actualizados y las zonas geográficas donde se realizó la actualización". El mismo texto indica que la Subtel "no recopila información de la libreta de contactos del usuario".</p>
</blockquote>

<p>Hay una serie de cuestionamientos sobre esto. El primero es que las estadísticas no son enviadas a la <em>Subtel</em>, sino a la compañía desarrolladora de la aplicación, <em>Cursor S.A</em>, tal como lo demuestra este fragmento de código:</p>

<pre><code class="language- language-javascript">var url_server = 'http://portabilidad.cursor.cl/api/';

// factory para manejar el servicio de temporada
angular.module('app.resource', ['ngResource']).factory('Estadisticas', function($resource) {  
        return $resource(url_server+'estadisticas');
});
</code></pre>

<p>Segundo, no son enviados usando un protocolo seguro como <em>HTTPS</em>. Tercero, y que ha llamado bastante la atención durante la discusión, ¿para qué es necesaria la información geográfica de quién actualiza sus números?.</p>

<blockquote>
  <p>Las denuncias hechas en Twitter también hablaban del envío de un identificador, el "UUID", pero Cristián Ochsenius, gerente general de Cursor indica que no es un número que permita identificar al usuario o rastrearlo. "Se usa para saber que la ejecución no está repetida. Si usa dos veces la aplicación, ¿cómo se sabe si fueron dos usos o una persona? Es para limpiar la información estadística".</p>
  
  <p>Ochsenius agrega que la información sobre la cantidad de uso es para que la Subtel evalúe la efectividad de la campaña de información y promoción de la aplicación, indicando que el identificador enviado al servidor se relaciona a la instalación de la aplicación y no al dispositivo en sí. De hecho, dice, si la aplicación es desinstalada y descargada de nuevo, se genera otro identificador. Los datos de uso serán entregados a la Subtel a través de informes.</p>
</blockquote>

<p>Primero, lo que comenta Cristián sobre el <em>UUID</em> es cierto para <a href="https://cordova.apache.org/docs/en/2.5.0/cordova/device/device.uuid.html#ios-quirk">iOS</a> (el sistema operativo usado por los iPhone) pero no para los usuarios de <a href="https://github.com/apache/cordova-plugin-device/blob/master/src/android/Device.java#L111">Android</a>. Tal como señalo Alejandro Vera en este <a href="https://www.facebook.com/alevera.fvv/posts/10153602222074681">post</a>, el <em>UUID</em> en <em>Android</em> será el mismo a pesar que la aplicación sea desinstalada.</p>

<p>Segundo es la pregunta:</p>

<blockquote>
  <p><em>¿cómo se sabe si fueron dos usos o una persona? Es para limpiar la información estadística</em>. </p>
</blockquote>

<p>Por lo que entiendo, se quiere saber si fue una persona ejecutando la aplicación dos veces o dos personas ejecutandola una vez cada uno. Desde el punto de vista estadístico, los datos enviados sin poder ser relacionados con un <em>usuario</em> son inútiles ya que como resultado se extraería información inexacta. El gran punto aquí es cómo se representa el usuario sin que se relacione con un identificador como el <em>UUID</em>. Se podría generar un identificador aleatorio al instalar la aplicación y que puede ser utilizado cuando corresponda.</p>

<p>Lo que es claro es que el envío de la ubicación geográfica está demás y solo da lugar a dudas sobre el uso de esos datos.</p>

<h2 id="conclusiones">Conclusiones</h2>

<p>Más allá de la serie de tweets que ha emitido la <a href="https://twitter.com/subtel_chile/status/692153066578124802">Subtel</a> y <a href="https://twitter.com/huichalaf/status/692092991050088451">el subsecretario</a>, es necesario ser objetivo sobre los errores cometidos y las formas de resolverlo a la brevedad posible. </p>

<h6 id="update">- Update</h6>

<p><a href="https://twitter.com/zerial">Zerial</a> también escribió un <a href="http://blog.zerial.org/seguridad/nueva-forma-de-marcar-analisis-a-la-aplicacion-publicada-por-el-gobierno/">artículo</a> analizando la aplicación.</p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="/author/claudio/" style="background-image: url(//www.gravatar.com/avatar/134e22ab3b4cac1e783f88f84917bc12?s=250&amp;d=mm&amp;r=x)"><span class="hidden">Claudio Salazar's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="/author/claudio/">Claudio Salazar</a></h4>

                    <p>Read <a href="/author/claudio/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=El%20tema%20de%20la%20aplicaci%C3%B3n%20%22Nueva%20Forma%20de%20Marcar%22.&amp;url=http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://www.spect.cl/blog/2016/01/el-tema-de-la-aplicacion-nueva-forma-de-marcar/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        <footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>

        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story prev no-cover" href="/blog/2015/11/security-audit-scrapyd/">
        <section class="post">
            <h2>Security Audit: Scrapyd</h2>
            <p>In this post I'll write about the vulnerabilities discovered in scrapyd, the scrapy daemon. It's a full review of…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://www.spect.cl">SPECT Research</a> © 2016</section>
        </footer>

    </div>

    <!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script>
  if (window.ga_id) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', window.ga_id, 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  }
</script>

    <script type="text/javascript" src="/assets/js/prism.js?v=5e18aacb12"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js?v=5e18aacb12"></script>
    <script type="text/javascript" src="/assets/js/index.js?v=5e18aacb12"></script>


</body>